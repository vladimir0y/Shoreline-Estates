(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[328],{40928:(P,B,l)=>{var v=Object.defineProperty,h=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,y=(r,e,t)=>e in r?v(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,w=(r,e)=>{for(var t in e||(e={}))g.call(e,t)&&y(r,t,e[t]);if(h)for(var t of h(e))O.call(e,t)&&y(r,t,e[t]);return r},b=Object.create,n=Object.defineProperty,D=Object.getOwnPropertyDescriptor,M=Object.getOwnPropertyNames,S=Object.getPrototypeOf,E=Object.prototype.hasOwnProperty,T=(r,e,t)=>e in r?n(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,j=(r,e)=>{for(var t in e)n(r,t,{get:e[t],enumerable:!0})},d=(r,e,t,p)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of M(e))!E.call(r,o)&&o!==t&&n(r,o,{get:()=>e[o],enumerable:!(p=D(e,o))||p.enumerable});return r},C=(r,e,t)=>(t=r!=null?b(S(r)):{},d(e||!r||!r.__esModule?n(t,"default",{value:r,enumerable:!0}):t,r)),L=r=>d(n({},"__esModule",{value:!0}),r),a=(r,e,t)=>(T(r,typeof e!="symbol"?e+"":e,t),t),_={};j(_,{default:()=>i}),P.exports=L(_);var u=C(l(95511)),s=l(25831),f=l(30696);const A="https://api.dmcdn.net/all.js",N="DM",x="dmAsyncInit";class i extends u.Component{constructor(){super(...arguments),a(this,"callPlayer",s.callPlayer),a(this,"onDurationChange",()=>{const e=this.getDuration();this.props.onDuration(e)}),a(this,"mute",()=>{this.callPlayer("setMuted",!0)}),a(this,"unmute",()=>{this.callPlayer("setMuted",!1)}),a(this,"ref",e=>{this.container=e})}componentDidMount(){this.props.onMount&&this.props.onMount(this)}load(e){const{controls:t,config:p,onError:o,playing:I}=this.props,[,m]=e.match(f.MATCH_URL_DAILYMOTION);if(this.player){this.player.load(m,{start:(0,s.parseStartTime)(e),autoplay:I});return}(0,s.getSDK)(A,N,x,c=>c.player).then(c=>{if(!this.container)return;const K=c.player;this.player=new K(this.container,{width:"100%",height:"100%",video:m,params:w({controls:t,autoplay:this.props.playing,mute:this.props.muted,start:(0,s.parseStartTime)(e),origin:window.location.origin},p.params),events:{apiready:this.props.onReady,seeked:()=>this.props.onSeek(this.player.currentTime),video_end:this.props.onEnded,durationchange:this.onDurationChange,pause:this.props.onPause,playing:this.props.onPlay,waiting:this.props.onBuffer,error:R=>o(R)}})},o)}play(){this.callPlayer("play")}pause(){this.callPlayer("pause")}stop(){}seekTo(e,t=!0){this.callPlayer("seek",e),t||this.pause()}setVolume(e){this.callPlayer("setVolume",e)}getDuration(){return this.player.duration||null}getCurrentTime(){return this.player.currentTime}getSecondsLoaded(){return this.player.bufferedTime}render(){const{display:e}=this.props,t={width:"100%",height:"100%",display:e};return u.default.createElement("div",{style:t},u.default.createElement("div",{ref:this.ref}))}}a(i,"displayName","DailyMotion"),a(i,"canPlay",f.canPlay.dailymotion),a(i,"loopOnEnded",!0)}}]);
